import propTypes from 'prop-types';
import React from 'react';
import { connect } from 'react-redux';
import { withRouter } from 'react-router-dom';
import { dispatchAction } from '../../../Helpers/Dispatcher';
import { emptyCveList, setHeader } from '../../../Store/Actions/Actions';
import VulnerabilitiesCves from './VulnerabilitiesCves';

class CVEs extends React.Component {
    static propTypes = {
        setHeader: propTypes.func,

        emptyStore: propTypes.func
    };

    constructor(props) {
        super(props);
    }

    componentWillUnmount() {
        this.props.emptyStore();
    }

    dispatchSetHeader() {
        this.props.setHeader({
            title: 'Vulnerability',
            breadcrumbs: []
        });
    }

    render() {
        this.dispatchSetHeader();
        return <VulnerabilitiesCves />;
    }
}

const mapDispatchToProps = () => {
    return {
        emptyStore: () => dispatchAction(emptyCveList()),
        setHeader: header => dispatchAction(setHeader(header))
    };
};

export default withRouter(
    connect(
        null,
        mapDispatchToProps
    )(CVEs)
);
