import { Tab, Tabs } from '@patternfly/react-core';
import propTypes from 'prop-types';
import React from 'react';
import { withRouter } from 'react-router-dom';
import { paths } from '../../../Utilities/Routes';
import './VulnerabilitiesTabs.scss';

export const VulnerabilitiesTabs = ({ location, history }) => {
    function findLocation(key) {
        return key.replace(/\/+$/, '');
    }

    function handleRedirect(event, tabString) {
        history.push(tabString);
    }

    return (
        <React.Fragment>
            <Tabs activeKey={findLocation(location.pathname)} onSelect={handleRedirect} className={'vulnerability-tabs'}>
                <Tab eventKey={paths.vulnerabilitiesCves.to} title={paths.vulnerabilitiesCves.title} />
                <Tab eventKey={paths.systems.to} title={paths.systems.title} />
            </Tabs>
        </React.Fragment>
    );
};

VulnerabilitiesTabs.propTypes = {
    location: propTypes.object,
    history: propTypes.object
};

export default withRouter(VulnerabilitiesTabs);
