import { Grid, GridItem } from '@patternfly/react-core';
import propTypes from 'prop-types';
import React from 'react';
import CVEPageDetailsDescription from '../CVEPageDetailsDescription/CVEPageDetailsDescription';
import CVEPageDetailsSeverity from '../CVEPageDetailsSeverity/CVEPageDetailsSeverity';
import WithLoader from '../WithLoader/WithLoader';

const CVEPageDetails = props => {
    return (
        <Grid gutter="sm">
            <GridItem span={12} />
            <GridItem md={8} sm={12}>
                <WithLoader loading={props.data.isLoading}>
                    <CVEPageDetailsDescription
                        publishDate={props.data.data.public_date}
                        description={props.data.data.description}
                        link={props.data.data.rh_link}
                    />
                </WithLoader>
            </GridItem>

            <GridItem md={4} sm={12} className="severity-info-box">
                <WithLoader loading={props.data.isLoading}>
                    <CVEPageDetailsSeverity
                        impact={props.data.data.impact}
                        cvss2_score={props.data.data.cvss2_score}
                        cvss3_score={props.data.data.cvss3_score}
                        cvss2_metrics={props.data.data.cvss2_metrics}
                        cvss3_metrics={props.data.data.cvss3_metrics}
                    />
                </WithLoader>
            </GridItem>
        </Grid>
    );
};

CVEPageDetails.propTypes = {
    data: propTypes.object
};

export default CVEPageDetails;
