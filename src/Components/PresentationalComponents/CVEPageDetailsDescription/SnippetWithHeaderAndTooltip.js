import { Popover, Stack, StackItem, Text, TextContent, TextVariants, Tooltip } from '@patternfly/react-core';
import propTypes from 'prop-types';
import React from 'react';
import Label from '../Snippets/Label';
import './CVEPageDetailsDescription.scss';

const SnippetWithHeaderAndTooltip = props => {
    const { title, value, tooltipText } = props;
    const brValue = <span className={'cvepage-st-business-risk-value'}>{value}</span>;

    return (
        <Stack>
            <StackItem>
                <TextContent>
                    <Text component={TextVariants.h4} style={{ marginBottom: 0 }}>
                        {title}
                    </Text>
                </TextContent>
            </StackItem>
            <StackItem>
                {(tooltipText && (
                    <Tooltip content={tooltipText && tooltipText} position={'bottom'}>
                        {brValue}
                    </Tooltip>
                )) ||
                    brValue}
            </StackItem>
        </Stack>
    );
};

export const SnippetWithHeaderAndPopover = props => {
    const { title, value, content } = props;

    return (
        <Popover bodyContent={content} headerContent={''} aria-label={'Business risk popover'} position="right">
            <Stack style={{ display: 'inline-block' }}>
                <StackItem>
                    <Label>{title}</Label>
                </StackItem>
                <StackItem>{value}</StackItem>
            </Stack>
        </Popover>
    );
};

SnippetWithHeaderAndTooltip.propTypes = {
    title: propTypes.string,
    value: propTypes.string,
    tooltipText: propTypes.any
};

SnippetWithHeaderAndPopover.propTypes = {
    title: propTypes.any,
    value: propTypes.any,
    content: propTypes.any
};
export default SnippetWithHeaderAndTooltip;
