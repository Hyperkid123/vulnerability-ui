import saveAs from 'file-saver';
import propTypes from 'prop-types';

export const dataShape = propTypes.shape({
    data: propTypes.oneOfType([propTypes.object, propTypes.array]),
    meta: propTypes.object,
    isLoading: propTypes.bool
});

export function triggerFileDownload(data) {
    let blob = new Blob([data], { type: 'text/plain;charset=utf-8' });
    saveAs(blob, new Date().toISOString() + '.txt');
}

export function constructParameters(apiProps, allowedParams) {
    if (apiProps) {
        Object.keys(apiProps).forEach(key => (apiProps[key] === undefined || apiProps[key] === '') && delete apiProps[key]);
        const params = allowedParams.map(item => apiProps[item]);

        return params;
    }

    return [];
}
